package utils

import (
	"strings"
	"testing"
)

// scanAlternate is an alternative to scan(). It is not currently faster in enough cases, but may be
// faster in the future with improvements, or after more functions and interfaces have been added.
func (ci *contractInfo) scanAlternate(byteCode string) {
	if len(byteCode) < 8 {
		return
	}
	ci.funcs = map[EVMFunction]struct{}{}
	for i := 0; (i + 7) < len(byteCode); i++ {
		id := byteCode[i : i+8]
		if fn, ok := EVMFunctionsByID[id]; ok {
			ci.funcs[fn] = struct{}{}
		}
	}

	ci.types = map[EVMInterface]struct{}{}
	for i, fns := range EVMFunctionsByInterface {
		if !ci.implementsAll(fns) {
			continue
		}
		ci.types[EVMInterface(i)] = struct{}{}
	}
}

var contractInfoTests = []struct {
	name     string
	want     testContractInfo
	byteCode string
}{
	{"empty", testContractInfo{types: nil, funcs: nil}, ""},
	{"testRobots", testContractInfo{
		types: []EVMInterface{Go165, Go721, Go721Receiver, Go721Metadata, Go721Enumerable, Go721MetadataMintable, Go721Full},
		funcs: append(EVMFunctionsByInterface[Go721Full], SupportsInterface, MintWithTokenURI),
	}, testRobotsByteCode},
	{"testFASByteCode", testContractInfo{
		types: []EVMInterface{Go165, Go721, Go721Receiver, Go721Metadata},
		funcs: append(EVMFunctionsByInterface[Go721Metadata], SupportsInterface, OnErc721Received, TransferOwnership),
	}, testFASByteCode},
	{"testPukkamex", testContractInfo{
		types: []EVMInterface{Go20, Go20Detailed, Go20Pausable, Ownable, PauserRole},
		funcs: append(EVMFunctionsByInterface[Go20Detailed], IncreaseAllowance, DecreaseAllowance, Transfer,
			TransferFrom, Pause, Paused, Unpause, AddPauser, IsPauser, RenouncePauser, IsOwner, TransferOwnership, RenounceOwnership),
	}, testPukkamexByteCode},
	{"testCabochonByteCode", testContractInfo{
		types: []EVMInterface{Go20, Go20Detailed}, funcs: EVMFunctionsByInterface[Go20Detailed],
	}, testCabochonByteCode},
	{"testRNDTByteCode", testContractInfo{
		types: []EVMInterface{Go20, Go20Detailed, Go20Mintable, Ownable},
		funcs: append(EVMFunctionsByInterface[Go20Detailed], IncreaseAllowance, DecreaseAllowance, Owner, Mint,
			IsOwner, TransferOwnership, RenounceOwnership),
	}, testRNDTByteCode},
	{"test165ByteCode", testContractInfo{
		types: []EVMInterface{Go165}, funcs: append(EVMFunctionsByInterface[Go165], Name, Symbol, Decimals),
	}, test165ByteCode},
	{"testUpgradeableByteCode", testContractInfo{
		types: []EVMInterface{Upgradeable}, funcs: EVMFunctionsByInterface[Upgradeable],
	}, testUpgradeableByteCode},
	//TODO more
}

func Test_contractInfo_scan(t *testing.T) {
	for _, tt := range contractInfoTests {
		t.Run(tt.name, func(t *testing.T) {
			var ci contractInfo
			ci.scan(tt.byteCode)
			if tt.want.compare(t, &ci) {
				t.Errorf("want: %s\ngot: %s", tt.want.String(), ci.String())
			}
		})
		t.Run(tt.name+"-alternate", func(t *testing.T) {
			var ci contractInfo
			ci.scanAlternate(tt.byteCode)
			if tt.want.compare(t, &ci) {
				t.Errorf("want: %s\ngot: %s", tt.want.String(), ci.String())
			}
		})
	}
}

func Benchmark_contractInfo_scan(b *testing.B) {
	for _, tt := range contractInfoTests {
		b.Run(tt.name, func(b *testing.B) {
			var ci contractInfo
			for i := 0; i < b.N; i++ {
				ci.scan(tt.byteCode)
			}
			b.StopTimer()
			b.ReportMetric(float64(len(tt.byteCode)), "len")
		})
		b.Run(tt.name+"-alternate", func(b *testing.B) {
			var ci contractInfo
			for i := 0; i < b.N; i++ {
				ci.scanAlternate(tt.byteCode)
			}
			b.StopTimer()
			b.ReportMetric(float64(len(tt.byteCode)), "len")
		})
	}
}

type testContractInfo struct {
	types []EVMInterface
	funcs []EVMFunction
}

func (ci *testContractInfo) compare(t *testing.T, other *contractInfo) bool {
	t.Helper()
	var diff bool
	for _, fn := range ci.funcs {
		if _, ok := other.funcs[fn]; !ok {
			diff = true
			t.Errorf("missing function %q", fn.String())
		}
	}
	for _, ty := range ci.types {
		if _, ok := other.types[ty]; !ok {
			diff = true
			t.Errorf("missing type %q", ty.String())
		}
	}
	if len(ci.funcs) != len(other.funcs) {
		diff = true
		t.Errorf("want %d functions but got %d", len(ci.funcs), len(other.funcs))
	}
	if len(ci.types) != len(other.types) {
		diff = true
		t.Errorf("want %d types but got %d", len(ci.funcs), len(other.funcs))
	}
	return diff
}

func (ci *testContractInfo) String() string {
	var sb strings.Builder
	sb.WriteString("funcs={")
	for i, fn := range ci.funcs {
		if i > 0 {
			sb.WriteString(",")
		}
		sb.WriteString(fn.String())
	}
	sb.WriteString("} types={")
	for i, t := range ci.types {
		if i > 0 {
			sb.WriteString(",")
		}
		sb.WriteString(t.String())
	}
	sb.WriteString("}")
	return sb.String()
}

func (ci *contractInfo) String() string {
	var sb strings.Builder
	sb.WriteString("funcs={")
	first := true
	for fn := range ci.funcs {
		if !first {
			sb.WriteString(",")
		}
		sb.WriteString(fn.String())
		first = false
	}
	sb.WriteString("} types={")
	first = true
	for t := range ci.types {
		if !first {
			sb.WriteString(",")
		}
		sb.WriteString(t.String())
		first = false
	}
	sb.WriteString("}")
	return sb.String()
}

const (
	testRobotsByteCode      = "608060405234801561001057600080fd5b5060043610610149576000357c0100000000000000000000000000000000000000000000000000000000900480636352211e116100ca578063a22cb4651161008e578063a22cb46514610485578063aa271e1a146104b3578063b88d4fde146104d9578063c87b56dd1461059f578063e985e9c5146105bc57610149565b80636352211e1461040c57806370a082311461042957806395d89b411461044f578063983b2d5614610457578063986502751461047d57610149565b806323b872dd1161011157806323b872dd1461029c5780632f745c59146102d257806342842e0e146102fe5780634f6ccce71461033457806350bb4e7f1461035157610149565b806301ffc9a71461014e57806306fdde031461019e578063081812fc1461021b578063095ea7b31461025457806318160ddd14610282575b600080fd5b61018a6004803603602081101561016457600080fd5b50357bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166105ea565b604080519115158252519081900360200190f35b6101a661061e565b6040805160208082528351818301528351919283929083019185019080838360005b838110156101e05781810151838201526020016101c8565b50505050905090810190601f16801561020d5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6102386004803603602081101561023157600080fd5b50356106b5565b60408051600160a060020a039092168252519081900360200190f35b6102806004803603604081101561026a57600080fd5b50600160a060020a0381351690602001356106e7565b005b61028a61079d565b60408051918252519081900360200190f35b610280600480360360608110156102b257600080fd5b50600160a060020a038135811691602081013590911690604001356107a3565b61028a600480360360408110156102e857600080fd5b50600160a060020a0381351690602001356107c8565b6102806004803603606081101561031457600080fd5b50600160a060020a03813581169160208101359091169060400135610815565b61028a6004803603602081101561034a57600080fd5b5035610831565b61018a6004803603606081101561036757600080fd5b600160a060020a038235169160208101359181019060608101604082013564010000000081111561039757600080fd5b8201836020820111156103a957600080fd5b803590602001918460018302840111640100000000831117156103cb57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610866945050505050565b6102386004803603602081101561042257600080fd5b503561089a565b61028a6004803603602081101561043f57600080fd5b5035600160a060020a03166108c4565b6101a66108fc565b6102806004803603602081101561046d57600080fd5b5035600160a060020a031661095d565b61028061097d565b6102806004803603604081101561049b57600080fd5b50600160a060020a0381351690602001351515610988565b61018a600480360360208110156104c957600080fd5b5035600160a060020a0316610a0c565b610280600480360360808110156104ef57600080fd5b600160a060020a0382358116926020810135909116916040820135919081019060808101606082013564010000000081111561052a57600080fd5b82018360208201111561053c57600080fd5b8035906020019184600183028401116401000000008311171561055e57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610a1f945050505050565b6101a6600480360360208110156105b557600080fd5b5035610a47565b61018a600480360360408110156105d257600080fd5b50600160a060020a0381358116916020013516610afc565b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191660009081526020819052604090205460ff1690565b60098054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156106aa5780601f1061067f576101008083540402835291602001916106aa565b820191906000526020600020905b81548152906001019060200180831161068d57829003601f168201915b505050505090505b90565b60006106c082610b2a565b15156106cb57600080fd5b50600090815260026020526040902054600160a060020a031690565b60006106f28261089a565b9050600160a060020a03838116908216141561070d57600080fd5b33600160a060020a038216148061072957506107298133610afc565b151561073457600080fd5b600082815260026020526040808220805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0387811691821790925591518593918516917f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591a4505050565b60075490565b6107ad3382610b47565b15156107b857600080fd5b6107c3838383610ba6565b505050565b60006107d3836108c4565b82106107de57600080fd5b600160a060020a038316600090815260056020526040902080548390811061080257fe5b9060005260206000200154905092915050565b6107c38383836020604051908101604052806000815250610a1f565b600061083b61079d565b821061084657600080fd5b600780548390811061085457fe5b90600052602060002001549050919050565b600061087133610a0c565b151561087c57600080fd5b6108868484610bc5565b6108908383610be6565b5060019392505050565b600081815260016020526040812054600160a060020a03168015156108be57600080fd5b92915050565b6000600160a060020a03821615156108db57600080fd5b600160a060020a03821660009081526003602052604090206108be90610c19565b600a8054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156106aa5780601f1061067f576101008083540402835291602001916106aa565b61096633610a0c565b151561097157600080fd5b61097a81610c1d565b50565b61098633610c65565b565b600160a060020a03821633141561099e57600080fd5b336000818152600460209081526040808320600160a060020a03871680855290835292819020805460ff1916861515908117909155815190815290519293927f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31929181900390910190a35050565b60006108be600c8363ffffffff610cad16565b610a2a8484846107a3565b610a3684848484610ce4565b1515610a4157600080fd5b50505050565b6060610a5282610b2a565b1515610a5d57600080fd5b6000828152600b602090815260409182902080548351601f600260001961010060018616150201909316929092049182018490048402810184019094528084529091830182828015610af05780601f10610ac557610100808354040283529160200191610af0565b820191906000526020600020905b815481529060010190602001808311610ad357829003601f168201915b50505050509050919050565b600160a060020a03918216600090815260046020908152604080832093909416825291909152205460ff1690565b600090815260016020526040902054600160a060020a0316151590565b600080610b538361089a565b905080600160a060020a031684600160a060020a03161480610b8e575083600160a060020a0316610b83846106b5565b600160a060020a0316145b80610b9e5750610b9e8185610afc565b949350505050565b610bb1838383610e60565b610bbb8382610f4f565b6107c38282611046565b610bcf8282611084565b610bd98282611046565b610be281611134565b5050565b610bef82610b2a565b1515610bfa57600080fd5b6000828152600b6020908152604090912082516107c392840190611297565b5490565b610c2e600c8263ffffffff61117816565b604051600160a060020a038216907f6ae172837ea30b801fbfcdd4108aa1d5bf8ff775444fd70256b44e6bf3dfc3f690600090a250565b610c76600c8263ffffffff6111c616565b604051600160a060020a038216907fe94479a9f7e1952cc78f2d6baab678adc1b772d936c6583def489e524cb6669290600090a250565b6000600160a060020a0382161515610cc457600080fd5b50600160a060020a03166000908152602091909152604090205460ff1690565b6000610cf884600160a060020a0316611212565b1515610d0657506001610b9e565b6040517f150b7a020000000000000000000000000000000000000000000000000000000081523360048201818152600160a060020a03888116602485015260448401879052608060648501908152865160848601528651600095928a169463150b7a029490938c938b938b939260a4019060208501908083838e5b83811015610d99578181015183820152602001610d81565b50505050905090810190601f168015610dc65780820380516001836020036101000a031916815260200191505b5095505050505050602060405180830381600087803b158015610de857600080fd5b505af1158015610dfc573d6000803e3d6000fd5b505050506040513d6020811015610e1257600080fd5b50517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167f150b7a020000000000000000000000000000000000000000000000000000000014915050949350505050565b82600160a060020a0316610e738261089a565b600160a060020a031614610e8657600080fd5b600160a060020a0382161515610e9b57600080fd5b610ea48161121a565b600160a060020a0383166000908152600360205260409020610ec590611262565b600160a060020a0382166000908152600360205260409020610ee690611279565b600081815260016020526040808220805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0386811691821790925591518493918716917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef91a4505050565b600160a060020a038216600090815260056020526040812054610f7990600163ffffffff61128216565b60008381526006602052604090205490915080821461101657600160a060020a0384166000908152600560205260408120805484908110610fb657fe5b90600052602060002001549050806005600087600160a060020a0316600160a060020a0316815260200190815260200160002083815481101515610ff657fe5b600091825260208083209091019290925591825260069052604090208190555b600160a060020a038416600090815260056020526040902080549061103f906000198301611315565b5050505050565b600160a060020a0390911660009081526005602081815260408084208054868652600684529185208290559282526001810183559183529091200155565b600160a060020a038216151561109957600080fd5b6110a281610b2a565b156110ac57600080fd5b6000818152600160209081526040808320805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0387169081179091558352600390915290206110f890611279565b6040518190600160a060020a038416906000907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a45050565b600780546000838152600860205260408120829055600182018355919091527fa66cc928b5edb82af9bd49922954155ab7b0942694bea4ce44661d9a8736c6880155565b600160a060020a038116151561118d57600080fd5b6111978282610cad565b156111a157600080fd5b600160a060020a0316600090815260209190915260409020805460ff19166001179055565b600160a060020a03811615156111db57600080fd5b6111e58282610cad565b15156111f057600080fd5b600160a060020a0316600090815260209190915260409020805460ff19169055565b6000903b1190565b600081815260026020526040902054600160a060020a03161561097a576000908152600260205260409020805473ffffffffffffffffffffffffffffffffffffffff19169055565b805461127590600163ffffffff61128216565b9055565b80546001019055565b60008282111561129157600080fd5b50900390565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106112d857805160ff1916838001178555611305565b82800160010185558215611305579182015b828111156113055782518255916020019190600101906112ea565b50611311929150611335565b5090565b8154818355818111156107c3576000838152602090206107c39181019083015b6106b291905b80821115611311576000815560010161133b56fea165627a7a72305820ed506b4286e03297c7446b2b7533ca9b251c17714e8a648c28a6278088c40ab70029"
	testPukkamexByteCode    = "608060405234801561001057600080fd5b50600436106101ab576000357c0100000000000000000000000000000000000000000000000000000000900480637241f5ff116100fb578063a3c33265116100b4578063b3490bfc1161008e578063b3490bfc14610764578063cf309012146107c0578063dd62ed3e146107e2578063f2fde38b1461085a576101ab565b8063a3c3326514610648578063a457c2d714610698578063a9059cbb146106fe576101ab565b80637241f5ff146104e957806382dc1ec41461050b5780638456cb591461054f5780638da5cb5b146105595780638f32d59b146105a357806395d89b41146105c5576101ab565b80633f4ba83a116101685780635c975abb116101425780635c975abb1461045b5780636ef8d66d1461047d57806370a0823114610487578063715018a6146104df576101ab565b80633f4ba83a146103c757806342966c68146103d157806346fbf68e146103ff576101ab565b806306fdde03146101b0578063095ea7b31461023357806318160ddd1461029957806323b872dd146102b7578063313ce5671461033d5780633950935114610361575b600080fd5b6101b861089e565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156101f85780820151818401526020810190506101dd565b50505050905090810190601f1680156102255780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b61027f6004803603604081101561024957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610940565b604051808215151515815260200191505060405180910390f35b6102a1610a2d565b6040518082815260200191505060405180910390f35b610323600480360360608110156102cd57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610a37565b604051808215151515815260200191505060405180910390f35b610345610b26565b604051808260ff1660ff16815260200191505060405180910390f35b6103ad6004803603604081101561037757600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610b3d565b604051808215151515815260200191505060405180910390f35b6103cf610c2a565b005b6103fd600480360360208110156103e757600080fd5b8101908080359060200190929190505050610cd9565b005b6104416004803603602081101561041557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610ce6565b604051808215151515815260200191505060405180910390f35b610463610d03565b604051808215151515815260200191505060405180910390f35b610485610d1a565b005b6104c96004803603602081101561049d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610d25565b6040518082815260200191505060405180910390f35b6104e7610d6d565b005b6104f1610e41565b604051808215151515815260200191505060405180910390f35b61054d6004803603602081101561052157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610ec2565b005b610557610ee2565b005b610561610f92565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6105ab610fbc565b604051808215151515815260200191505060405180910390f35b6105cd611014565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561060d5780820151818401526020810190506105f2565b50505050905090810190601f16801561063a5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6106966004803603604081101561065e57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035151590602001909291905050506110b6565b005b6106e4600480360360408110156106ae57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050611124565b604051808215151515815260200191505060405180910390f35b61074a6004803603604081101561071457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050611211565b604051808215151515815260200191505060405180910390f35b6107a66004803603602081101561077a57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506112fe565b604051808215151515815260200191505060405180910390f35b6107c861131e565b604051808215151515815260200191505060405180910390f35b610844600480360360408110156107f857600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611331565b6040518082815260200191505060405180910390f35b61089c6004803603602081101561087057600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506113b8565b005b606060038054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156109365780601f1061090b57610100808354040283529160200191610936565b820191906000526020600020905b81548152906001019060200180831161091957829003601f168201915b5050505050905090565b6000600960009054906101000a900460ff1615806109a75750600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff165b1515610a1b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600d8152602001807f546f6b656e73204c6f636b65640000000000000000000000000000000000000081525060200191505060405180910390fd5b610a2583836113d7565b905092915050565b6000600254905090565b6000600960009054906101000a900460ff161580610a9e5750600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff165b1515610b12576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600d8152602001807f546f6b656e73204c6f636b65640000000000000000000000000000000000000081525060200191505060405180910390fd5b610b1d848484611407565b90509392505050565b6000600560009054906101000a900460ff16905090565b6000600960009054906101000a900460ff161580610ba45750600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff165b1515610c18576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600d8152602001807f546f6b656e73204c6f636b65640000000000000000000000000000000000000081525060200191505060405180910390fd5b610c228383611439565b905092915050565b610c3333610ce6565b1515610c3e57600080fd5b600760009054906101000a900460ff161515610c5957600080fd5b6000600760006101000a81548160ff0219169083151502179055507f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa33604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a1565b610ce33382611469565b50565b6000610cfc8260066115bd90919063ffffffff16565b9050919050565b6000600760009054906101000a900460ff16905090565b610d2333611651565b565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b610d75610fbc565b1515610d8057600080fd5b600073ffffffffffffffffffffffffffffffffffffffff16600760019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a36000600760016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b6000610e4b610fbc565b1515610e5657600080fd5b6000600960006101000a81548160ff0219169083151502179055507f7772b54b7aa3898aee10d476009b352b8b0542eaa2563ebd6a12d50d0edfacde600960009054906101000a900460ff16604051808215151515815260200191505060405180910390a16001905090565b610ecb33610ce6565b1515610ed657600080fd5b610edf816116ab565b50565b610eeb33610ce6565b1515610ef657600080fd5b600760009054906101000a900460ff16151515610f1257600080fd5b6001600760006101000a81548160ff0219169083151502179055507f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a25833604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a1565b6000600760019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6000600760019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614905090565b606060048054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156110ac5780601f10611081576101008083540402835291602001916110ac565b820191906000526020600020905b81548152906001019060200180831161108f57829003601f168201915b5050505050905090565b6110be610fbc565b15156110c957600080fd5b80600860008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b6000600960009054906101000a900460ff16158061118b5750600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff165b15156111ff576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600d8152602001807f546f6b656e73204c6f636b65640000000000000000000000000000000000000081525060200191505060405180910390fd5b6112098383611705565b905092915050565b6000600960009054906101000a900460ff1615806112785750600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff165b15156112ec576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600d8152602001807f546f6b656e73204c6f636b65640000000000000000000000000000000000000081525060200191505060405180910390fd5b6112f68383611735565b905092915050565b60086020528060005260406000206000915054906101000a900460ff1681565b600960009054906101000a900460ff1681565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b6113c0610fbc565b15156113cb57600080fd5b6113d481611765565b50565b6000600760009054906101000a900460ff161515156113f557600080fd5b6113ff8383611861565b905092915050565b6000600760009054906101000a900460ff1615151561142557600080fd5b611430848484611878565b90509392505050565b6000600760009054906101000a900460ff1615151561145757600080fd5b6114618383611929565b905092915050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141515156114a557600080fd5b6114ba816002546119ce90919063ffffffff16565b600281905550611511816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546119ce90919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a35050565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141515156115fa57600080fd5b8260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b6116658160066119f090919063ffffffff16565b8073ffffffffffffffffffffffffffffffffffffffff167fcd265ebaf09df2871cc7bd4133404a235ba12eff2041bb89d9c714a2621c7c7e60405160405180910390a250565b6116bf816006611a9f90919063ffffffff16565b8073ffffffffffffffffffffffffffffffffffffffff167f6719d08c1888103bea251a4ed56406bd0c3e69723c8a1686e017e7bbe159b6f860405160405180910390a250565b6000600760009054906101000a900460ff1615151561172357600080fd5b61172d8383611b4f565b905092915050565b6000600760009054906101000a900460ff1615151561175357600080fd5b61175d8383611bf4565b905092915050565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141515156117a157600080fd5b8073ffffffffffffffffffffffffffffffffffffffff16600760019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a380600760016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b600061186e338484611c0b565b6001905092915050565b6000611885848484611d6e565b61191e843361191985600160008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546119ce90919063ffffffff16565b611c0b565b600190509392505050565b60006119c433846119bf85600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611f3a90919063ffffffff16565b611c0b565b6001905092915050565b60008282111515156119df57600080fd5b600082840390508091505092915050565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614151515611a2c57600080fd5b611a3682826115bd565b1515611a4157600080fd5b60008260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614151515611adb57600080fd5b611ae582826115bd565b151515611af157600080fd5b60018260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b6000611bea3384611be585600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546119ce90919063ffffffff16565b611c0b565b6001905092915050565b6000611c01338484611d6e565b6001905092915050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614151515611c4757600080fd5b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614151515611c8357600080fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925836040518082815260200191505060405180910390a3505050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614151515611daa57600080fd5b611dfb816000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546119ce90919063ffffffff16565b6000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550611e8e816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611f3a90919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a3505050565b6000808284019050838110151515611f5157600080fd5b809150509291505056fea165627a7a72305820320f48259293922ade00e409b6f3033e75ec0b3fed2386ef2196111f44c877b40029"
	testCabochonByteCode    = "6080604052600436106101d45763ffffffff60e060020a60003504166306fdde0381146101d9578063095ea7b31461026357806310ca779d1461029b5780631317dd04146102bf578063168f3bed146102e257806316ada547146102f757806318160ddd1461031e578063197ac9621461033357806323b872dd1461034b578063313ce567146103755780633772757b146103a05780633794923d146103b5578063420f9981146103ca57806343761571146103eb57806349435dd61461041f5780634b2d5fca146104ad5780635b84c3db146104d1578063611e739c1461051e57806366188463146105335780636fd5ae151461055757806370a082311461056c578063844265dd1461058d57806395d89b41146105b1578063975057e7146105c6578063a035b1fe146105db578063a6e49e98146105f0578063a70730e514610605578063a9059cbb14610626578063aa8492441461064a578063afb7afbb1461065f578063ca6158cb14610674578063d39def4f14610689578063d73dd623146106c1578063dd62ed3e146106e5578063de9d892a1461070c578063efedc66914610724578063f5470d7b14610739578063f5a306b41461074e578063f97ca1ce14610763578063fdea4f2714610787575b600080fd5b3480156101e557600080fd5b506101ee6107ab565b6040805160208082528351818301528351919283929083019185019080838360005b83811015610228578181015183820152602001610210565b50505050905090810190601f1680156102555780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561026f57600080fd5b50610287600160a060020a0360043516602435610838565b604080519115158252519081900360200190f35b3480156102a757600080fd5b50610287600160a060020a036004351660243561089e565b3480156102cb57600080fd5b506102e0600160a060020a03600435166109a5565b005b3480156102ee57600080fd5b50610287610a71565b34801561030357600080fd5b5061030c610a81565b60408051918252519081900360200190f35b34801561032a57600080fd5b5061030c610a87565b34801561033f57600080fd5b5061030c600435610a8d565b34801561035757600080fd5b50610287600160a060020a0360043581169060243516604435610aac565b34801561038157600080fd5b5061038a610be2565b6040805160ff9092168252519081900360200190f35b3480156103ac57600080fd5b50610287610beb565b3480156103c157600080fd5b50610287610bfc565b3480156103d657600080fd5b50610287600160a060020a0360043516610c05565b3480156103f757600080fd5b50610403600435610cd1565b60408051600160a060020a039092168252519081900360200190f35b34801561042b57600080fd5b50604080516020600480358082013583810280860185019096528085526102e095369593946024949385019291829185019084908082843750506040805187358901803560208181028481018201909552818452989b9a998901989297509082019550935083925085019084908082843750949750610cf99650505050505050565b3480156104b957600080fd5b50610287600160a060020a0360043516602435610e52565b3480156104dd57600080fd5b506104e6610f50565b604051808260c080838360005b8381101561050b5781810151838201526020016104f3565b5050505090500191505060405180910390f35b34801561052a57600080fd5b50610287610fbf565b34801561053f57600080fd5b50610287600160a060020a0360043516602435610fcd565b34801561056357600080fd5b5061030c6110bd565b34801561057857600080fd5b5061030c600160a060020a03600435166110c3565b34801561059957600080fd5b50610287600160a060020a03600435166024356110de565b3480156105bd57600080fd5b506101ee6111dc565b3480156105d257600080fd5b5061030c611234565b3480156105e757600080fd5b5061030c61123a565b3480156105fc57600080fd5b506102876112f9565b34801561061157600080fd5b5061030c600160a060020a0360043516611308565b34801561063257600080fd5b50610287600160a060020a0360043516602435611341565b34801561065657600080fd5b5061030c61143f565b34801561066b57600080fd5b5061030c611445565b34801561068057600080fd5b5061030c61144b565b34801561069557600080fd5b506106aa600160a060020a0360043516611451565b6040805182518152908190839080838360206104f3565b3480156106cd57600080fd5b50610287600160a060020a036004351660243561148c565b3480156106f157600080fd5b5061030c600160a060020a0360043581169060243516611525565b34801561071857600080fd5b5061030c600435611550565b34801561073057600080fd5b5061030c61155e565b34801561074557600080fd5b5061030c611564565b34801561075a57600080fd5b5061030c61156a565b34801561076f57600080fd5b50610287600160a060020a03600435166024356115e6565b34801561079357600080fd5b50610287600160a060020a03600435166024356116e4565b60018054604080516020600284861615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156108305780601f1061080557610100808354040283529160200191610830565b820191906000526020600020905b81548152906001019060200180831161081357829003601f168201915b505050505081565b336000818152600560209081526040808320600160a060020a038716808552908352818420869055815186815291519394909390927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925928290030190a350600192915050565b6007546040805160e260020a6324d179770281529051600092600160a060020a031691639345e5dc91600480830192602092919082900301818787803b1580156108e757600080fd5b505af11580156108fb573d6000803e3d6000fd5b505050506040513d602081101561091157600080fd5b5051604080517f737461727450726f6365737328616464726573732c75696e74323536290000008152815190819003601d01812063ffffffff60e060020a918290049081169091028252600160a060020a03878116600484015260248301879052925192909316929160448083019260009291908290030181865af492505050151561099c57600080fd5b50600192915050565b600654604080517f71c74e170000000000000000000000000000000000000000000000000000000081523360048201529051600160a060020a03909216916371c74e17916024808201926020929091908290030181600087803b158015610a0b57600080fd5b505af1158015610a1f573d6000803e3d6000fd5b505050506040513d6020811015610a3557600080fd5b50511515610a4257600080fd5b6007805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b6011546301000000900460ff1681565b600d5481565b60005481565b6012805482908110610a9b57fe5b600091825260209091200154905081565b6007546040805160e260020a6324d179770281529051600092600160a060020a031691639345e5dc91600480830192602092919082900301818787803b158015610af557600080fd5b505af1158015610b09573d6000803e3d6000fd5b505050506040513d6020811015610b1f57600080fd5b5051604080517f7472616e7366657246726f6d28616464726573732c616464726573732c75696e81527f74323536290000000000000000000000000000000000000000000000000000006020820152815190819003602501812063ffffffff60e060020a918290049081169091028252600160a060020a038881166004840152878116602484015260448301879052925192909316929160648083019260009291908290030181865af4925050501515610bd857600080fd5b5060019392505050565b60035460ff1681565b601154640100000000900460ff1681565b60115460ff1681565b604080517f66696e69736850726f63657373286164647265737329000000000000000000008152815190819003601601812060075460e260020a6324d17977028352925160009391928492600160a060020a031691639345e5dc9160048082019260209290919082900301818787803b158015610c8157600080fd5b505af1158015610c95573d6000803e3d6000fd5b505050506040513d6020811015610cab57600080fd5b505160405183815260048101869052909150602480820190602090829084865af4602082f35b6013805482908110610cdf57fe5b600091825260209091200154600160a060020a0316905081565b600654604080517f71c74e170000000000000000000000000000000000000000000000000000000081523360048201529051600092600160a060020a0316916371c74e1791602480830192602092919082900301818787803b158015610d5e57600080fd5b505af1158015610d72573d6000803e3d6000fd5b505050506040513d6020811015610d8857600080fd5b50511515610d9557600080fd5b610da16013600061180a565b610dad6012600061180a565b5060005b8251811015610e4d5760138382815181101515610dca57fe5b602090810291909101810151825460018101845560009384529190922001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039092169190911790558151601290839083908110610e2357fe5b60209081029091018101518254600181810185556000948552929093209092019190915501610db1565b505050565b6007546040805160e260020a6324d179770281529051600092600160a060020a031691639345e5dc91600480830192602092919082900301818787803b158015610e9b57600080fd5b505af1158015610eaf573d6000803e3d6000fd5b505050506040513d6020811015610ec557600080fd5b5051604080517f5365744672656528616464726573732c75696e743235362900000000000000008152815190819003601801812063ffffffff60e060020a918290049081169091028252600160a060020a03878116600484015260248301879052925192909316929160448083019260009291908290030181865af492505050151561099c57600080fd5b610f5861182b565b60005b601454811015610fbb576014805460018301908110610f7657fe5b906000526020600020015482601483815481101515610f9157fe5b9060005260206000200154600681101515610fa857fe5b6020020180519091019052600201610f5b565b5090565b601154610100900460ff1681565b336000908152600560209081526040808320600160a060020a03861684529091528120548083111561102257336000908152600560209081526040808320600160a060020a0388168452909152812055611057565b611032818463ffffffff6117e216565b336000908152600560209081526040808320600160a060020a03891684529091529020555b336000818152600560209081526040808320600160a060020a0389168085529083529281902054815190815290519293927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a35060019392505050565b60095481565b600160a060020a031660009081526004602052604090205490565b6007546040805160e260020a6324d179770281529051600092600160a060020a031691639345e5dc91600480830192602092919082900301818787803b15801561112757600080fd5b505af115801561113b573d6000803e3d6000fd5b505050506040513d602081101561115157600080fd5b5051604080517f5365744275737928616464726573732c75696e743235362900000000000000008152815190819003601801812063ffffffff60e060020a918290049081169091028252600160a060020a03878116600484015260248301879052925192909316929160448083019260009291908290030181865af492505050151561099c57600080fd5b6002805460408051602060018416156101000260001901909316849004601f810184900484028201840190925281815292918301828280156108305780601f1061080557610100808354040283529160200191610830565b600c5481565b604080517f70726963652829000000000000000000000000000000000000000000000000008152815160079181900382018120915460e260020a6324d1797702825292516000938492600160a060020a0390911691639345e5dc9160048082019260209290919082900301818787803b1580156112b657600080fd5b505af11580156112ca573d6000803e3d6000fd5b505050506040513d60208110156112e057600080fd5b5051604051838152909150602481600481855af4602482f35b60115462010000900460ff1681565b600160a060020a038116600090815260166020908152604080832054600490925282205461133b9163ffffffff6117e216565b92915050565b6007546040805160e260020a6324d179770281529051600092600160a060020a031691639345e5dc91600480830192602092919082900301818787803b15801561138a57600080fd5b505af115801561139e573d6000803e3d6000fd5b505050506040513d60208110156113b457600080fd5b5051604080517f7472616e7366657228616464726573732c75696e7432353629000000000000008152815190819003601901812063ffffffff60e060020a918290049081169091028252600160a060020a03878116600484015260248301879052925192909316929160448083019260009291908290030181865af492505050151561099c57600080fd5b600a5481565b600e5481565b600f5481565b61145961184a565b600160a060020a039190911660008181526015602081815260408320805486529390925281526001909101549082015290565b336000908152600560209081526040808320600160a060020a03861684529091528120546114c0908363ffffffff6117f416565b336000818152600560209081526040808320600160a060020a0389168085529083529281902085905580519485525191937f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929081900390910190a350600192915050565b600160a060020a03918216600090815260056020908152604080832093909416825291909152205490565b6014805482908110610a9b57fe5b600b5481565b60105481565b604080517f70726f64756374696f6e546f74616c456e6572677928290000000000000000008152815190819003601701812060075460e260020a6324d17977028352925160009391928492600160a060020a031691639345e5dc9160048082019260209290919082900301818787803b1580156112b657600080fd5b6007546040805160e260020a6324d179770281529051600092600160a060020a031691639345e5dc91600480830192602092919082900301818787803b15801561162f57600080fd5b505af1158015611643573d6000803e3d6000fd5b505050506040513d602081101561165957600080fd5b5051604080517f53756246726f6d5573657228616464726573732c75696e7432353629000000008152815190819003601c01812063ffffffff60e060020a918290049081169091028252600160a060020a03878116600484015260248301879052925192909316929160448083019260009291908290030181865af492505050151561099c57600080fd5b6007546040805160e260020a6324d179770281529051600092600160a060020a031691639345e5dc91600480830192602092919082900301818787803b15801561172d57600080fd5b505af1158015611741573d6000803e3d6000fd5b505050506040513d602081101561175757600080fd5b5051604080517f416464546f5573657228616464726573732c75696e74323536290000000000008152815190819003601a01812063ffffffff60e060020a918290049081169091028252600160a060020a03878116600484015260248301879052925192909316929160448083019260009291908290030181865af492505050151561099c57600080fd5b6000828211156117ee57fe5b50900390565b60008282018381101561180357fe5b9392505050565b50805460008255906000526020600020908101906118289190611865565b50565b60c0604051908101604052806006906020820280388339509192915050565b60408051808201825290600290829080388339509192915050565b61187f91905b80821115610fbb576000815560010161186b565b905600a165627a7a72305820d67b791f0be46e9682b372b2dd8fddb1f7c7134c45c9bf12a4d29c2989d65b180029"
	testRNDTByteCode        = "608060405260043610610112576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806306fdde0314610117578063095ea7b3146101a757806318160ddd1461021a57806323b872dd14610245578063313ce567146102d8578063395093511461030957806340c10f191461037c57806370a08231146103ef578063715018a6146104545780638da5cb5b1461046b5780638f32d59b146104c257806395d89b41146104f1578063983b2d561461058157806398650275146105d2578063a0712d68146105e9578063a457c2d71461063c578063a9059cbb146106af578063aa271e1a14610722578063dd62ed3e1461078b578063f2fde38b14610810575b600080fd5b34801561012357600080fd5b5061012c610861565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561016c578082015181840152602081019050610151565b50505050905090810190601f1680156101995780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156101b357600080fd5b50610200600480360360408110156101ca57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610903565b604051808215151515815260200191505060405180910390f35b34801561022657600080fd5b5061022f610a30565b6040518082815260200191505060405180910390f35b34801561025157600080fd5b506102be6004803603606081101561026857600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610a3a565b604051808215151515815260200191505060405180910390f35b3480156102e457600080fd5b506102ed610c42565b604051808260ff1660ff16815260200191505060405180910390f35b34801561031557600080fd5b506103626004803603604081101561032c57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610c59565b604051808215151515815260200191505060405180910390f35b34801561038857600080fd5b506103d56004803603604081101561039f57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610e90565b604051808215151515815260200191505060405180910390f35b3480156103fb57600080fd5b5061043e6004803603602081101561041257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610eba565b6040518082815260200191505060405180910390f35b34801561046057600080fd5b50610469610f02565b005b34801561047757600080fd5b50610480610fd6565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156104ce57600080fd5b506104d7611000565b604051808215151515815260200191505060405180910390f35b3480156104fd57600080fd5b50610506611058565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561054657808201518184015260208101905061052b565b50505050905090810190601f1680156105735780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561058d57600080fd5b506105d0600480360360208110156105a457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506110fa565b005b3480156105de57600080fd5b506105e761111a565b005b3480156105f557600080fd5b506106226004803603602081101561060c57600080fd5b8101908080359060200190929190505050611125565b604051808215151515815260200191505060405180910390f35b34801561064857600080fd5b506106956004803603604081101561065f57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506111e6565b604051808215151515815260200191505060405180910390f35b3480156106bb57600080fd5b50610708600480360360408110156106d257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061141d565b604051808215151515815260200191505060405180910390f35b34801561072e57600080fd5b506107716004803603602081101561074557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611434565b604051808215151515815260200191505060405180910390f35b34801561079757600080fd5b506107fa600480360360408110156107ae57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611451565b6040518082815260200191505060405180910390f35b34801561081c57600080fd5b5061085f6004803603602081101561083357600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506114d8565b005b606060048054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156108f95780601f106108ce576101008083540402835291602001916108f9565b820191906000526020600020905b8154815290600101906020018083116108dc57829003601f168201915b5050505050905090565b60008073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415151561094057600080fd5b81600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925846040518082815260200191505060405180910390a36001905092915050565b6000600254905090565b6000610acb82600160008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546114f790919063ffffffff16565b600160008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550610b56848484611519565b3373ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925600160008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546040518082815260200191505060405180910390a3600190509392505050565b6000600660009054906101000a900460ff16905090565b60008073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614151515610c9657600080fd5b610d2582600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546116e590919063ffffffff16565b600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546040518082815260200191505060405180910390a36001905092915050565b6000610e9b33611434565b1515610ea657600080fd5b610eb08383611706565b6001905092915050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b610f0a611000565b1515610f1557600080fd5b600073ffffffffffffffffffffffffffffffffffffffff16600660019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a36000600660016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b6000600660019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6000600660019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614905090565b606060058054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156110f05780601f106110c5576101008083540402835291602001916110f0565b820191906000526020600020905b8154815290600101906020018083116110d357829003601f168201915b5050505050905090565b61110333611434565b151561110e57600080fd5b6111178161185a565b50565b611123336118b4565b565b600061113033611434565b151561113b57600080fd5b6007546111588361114a610a30565b6116e590919063ffffffff16565b111515156111ce576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601d8152602001807f63616e6e6f7420657870616e64206f766572206d617820737570706c7900000081525060200191505060405180910390fd5b6111df6111d9610fd6565b83610e90565b9050919050565b60008073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415151561122357600080fd5b6112b282600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546114f790919063ffffffff16565b600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546040518082815260200191505060405180910390a36001905092915050565b600061142a338484611519565b6001905092915050565b600061144a82600361190e90919063ffffffff16565b9050919050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b6114e0611000565b15156114eb57600080fd5b6114f4816119a2565b50565b600082821115151561150857600080fd5b600082840390508091505092915050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415151561155557600080fd5b6115a6816000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546114f790919063ffffffff16565b6000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550611639816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546116e590919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a3505050565b60008082840190508381101515156116fc57600080fd5b8091505092915050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415151561174257600080fd5b611757816002546116e590919063ffffffff16565b6002819055506117ae816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546116e590919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a35050565b61186e816003611a9e90919063ffffffff16565b8073ffffffffffffffffffffffffffffffffffffffff167f6ae172837ea30b801fbfcdd4108aa1d5bf8ff775444fd70256b44e6bf3dfc3f660405160405180910390a250565b6118c8816003611b4e90919063ffffffff16565b8073ffffffffffffffffffffffffffffffffffffffff167fe94479a9f7e1952cc78f2d6baab678adc1b772d936c6583def489e524cb6669260405160405180910390a250565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415151561194b57600080fd5b8260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141515156119de57600080fd5b8073ffffffffffffffffffffffffffffffffffffffff16600660019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a380600660016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614151515611ada57600080fd5b611ae4828261190e565b151515611af057600080fd5b60018260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614151515611b8a57600080fd5b611b94828261190e565b1515611b9f57600080fd5b60008260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908315150217905550505056fea165627a7a72305820446d717baaaba54635ef3b95c1057c571bd49a9888a25049bfdc57ec7d82173e0029"
	test165ByteCode         = "6080604052600436106100825763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416630a116af8811461008757806314131caf146100ae5780634bf61d10146100df578063949b61c2146100f4578063a6a1497e14610109578063cd94779f1461011e578063eaece9231461026f575b600080fd5b34801561009357600080fd5b5061009c610284565b60408051918252519081900360200190f35b3480156100ba57600080fd5b506100c36102a8565b60408051600160a060020a039092168252519081900360200190f35b3480156100eb57600080fd5b506100c36103e9565b34801561010057600080fd5b506100c3610444565b34801561011557600080fd5b5061009c610453565b34801561012a57600080fd5b506100c3600480360360a081101561014157600080fd5b81019060208101813564010000000081111561015c57600080fd5b82018360208201111561016e57600080fd5b8035906020019184600183028401116401000000008311171561019057600080fd5b91908080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525092959493602081019350359150506401000000008111156101e357600080fd5b8201836020820111156101f557600080fd5b8035906020019184600183028401116401000000008311171561021757600080fd5b91908080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509295505050813560ff1692505060208101359060400135600160a060020a0316610477565b34801561027b57600080fd5b506100c3610787565b7f4341542d3134303000000000000000000000000000000000000000000000000090565b6000805460408051808201825260108082527f5065726d697373696f6e4d6f64756c6500000000000000000000000000000000602083019081529251600160a060020a039094169363792a0a809390918291908083835b6020831061031e5780518252601f1990920191602091820191016102ff565b51815160209384036101000a60001901801990921691161790526040805192909401829003822063ffffffff88167c01000000000000000000000000000000000000000000000000000000000283527fffffffff0000000000000000000000000000000000000000000000000000000016600483015292516024808301965093945092908390030190508186803b1580156103b857600080fd5b505afa1580156103cc573d6000803e3d6000fd5b505050506040513d60208110156103e257600080fd5b5051905090565b60008054604080518082018252600d8082527f546f6b656e73466163746f727900000000000000000000000000000000000000602083019081529251600160a060020a039094169363792a0a8093909182919080838361031e565b600054600160a060020a031681565b7f4341542d3134303000000000000000000000000000000000000000000000000081565b60003360006104846103e9565b9050600160a060020a038281169082161461052657604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602360248201527f416c6c6f776564206f6e6c7920666f722074686520546f6b656e73206661637460448201527f6f72790000000000000000000000000000000000000000000000000000000000606482015290519081900360840190fd5b600154600090899089908990600160a060020a0316610543610796565b60ff83166040820152600160a060020a038216606082015260808082528551908201528451819060208083019160a084019189019080838360005b8381101561059657818101518382015260200161057e565b50505050905090810190601f1680156105c35780820380516001836020036101000a031916815260200191505b50838103825286518152865160209182019188019080838360005b838110156105f65781810151838201526020016105de565b50505050905090810190601f1680156106235780820380516001836020036101000a031916815260200191505b509650505050505050604051809103906000f080158015610648573d6000803e3d6000fd5b5090507fdfe9683faea328a555e6ec161c826849441ed56c9f5c4ee25b9c101d6ff630e389898989856040518080602001806020018660ff1660ff16815260200185815260200184600160a060020a0316600160a060020a03168152602001838103835288818151815260200191508051906020019080838360005b838110156106dc5781810151838201526020016106c4565b50505050905090810190601f1680156107095780820380516001836020036101000a031916815260200191505b50838103825287518152875160209182019189019080838360005b8381101561073c578181015183820152602001610724565b50505050905090810190601f1680156107695780820380516001836020036101000a031916815260200191505b5097505050505050505060405180910390a198975050505050505050565b60006107916102a8565b905090565b60405161067b806107a78339019056fe608060405234801561001057600080fd5b5060405161067b38038061067b8339810180604052608081101561003357600080fd5b81019080805164010000000081111561004b57600080fd5b8201602081018481111561005e57600080fd5b815164010000000081118282018710171561007857600080fd5b5050929190602001805164010000000081111561009457600080fd5b820160208101848111156100a757600080fd5b81516401000000008111828201871017156100c157600080fd5b505060208083015160409093015186519295509293506100e691600091870190610185565b5082516100fa906001906020860190610185565b506002805460ff191660ff8416179055600061013e7f234a6ed80000000000000000000000000000000000000000000000000000000064010000000061014c810204565b919091555061022092505050565b6040805181815260608181018352600092909190602082018180388339505050602081019384526103e960408201525190922092915050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106101c657805160ff19168380011785556101f3565b828001600101855582156101f3579182015b828111156101f35782518255916020019190600101906101d8565b506101ff929150610203565b5090565b61021d91905b808211156101ff5760008155600101610209565b90565b61044c8061022f6000396000f3fe60806040526004361061006c5763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166301ffc9a7811461012157806306fdde031461017e578063313ce56714610208578063324536eb1461023357806395d89b411461025a575b600061007661026f565b905073ffffffffffffffffffffffffffffffffffffffff811615156100fc57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f4d6574686f64206e6f7420666f756e642e203430342028280000000000000000604482015290519081900360640190fd5b60405136600082376000803683855af43d806000843e81801561011d578184f35b8184fd5b34801561012d57600080fd5b5061016a6004803603602081101561014457600080fd5b50357bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916610290565b604080519115158252519081900360200190f35b34801561018a57600080fd5b506101936102f0565b6040805160208082528351818301528351919283929083019185019080838360005b838110156101cd5781810151838201526020016101b5565b50505050905090810190601f1680156101fa5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561021457600080fd5b5061021d61037e565b6040805160ff9092168252519081900360200190f35b34801561023f57600080fd5b50610248610387565b60408051918252519081900360200190f35b34801561026657600080fd5b5061019361038d565b60008060046000803760005190506000610288826103e7565b549392505050565b60007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1980831614156102c1575060006102eb565b6000806102cd846103e7565b5473ffffffffffffffffffffffffffffffffffffffff161515925050505b919050565b6000805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156103765780601f1061034b57610100808354040283529160200191610376565b820191906000526020600020905b81548152906001019060200180831161035957829003601f168201915b505050505081565b60025460ff1681565b60035481565b60018054604080516020600284861615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156103765780601f1061034b57610100808354040283529160200191610376565b6040805181815260608181018352600092909190602082018180388339505050602081019384526103e96040820152519092209291505056fea165627a7a72305820f4c88aeb11610de776982839f575f1d6402e025a6f9d4c8ce8c383857302b6d40029a165627a7a72305820c8ae7f69fddd4eeaa2721203ea543e4fcda083d00f116ab5d39a0ec9a77ab3550029"
	testFASByteCode         = "608060405234801561001057600080fd5b50600436106101165760003560e01c806371d78b12116100a2578063b88d4fde11610071578063b88d4fde14610349578063c87b56dd146103d9578063d3fc9864146103f6578063e985e9c51461047b578063f2fde38b146104a957610116565b806371d78b12146103035780638da5cb5b1461030b57806395d89b4114610313578063a22cb4651461031b57610116565b806323b872dd116100e957806323b872dd1461023a57806342842e0e14610270578063538ba4f9146102a65780636352211e146102ae57806370a08231146102cb57610116565b806301ffc9a71461011b57806306fdde0314610156578063081812fc146101d3578063095ea7b31461020c575b600080fd5b6101426004803603602081101561013157600080fd5b50356001600160e01b0319166104cf565b604080519115158252519081900360200190f35b61015e6104f2565b6040805160208082528351818301528351919283929083019185019080838360005b83811015610198578181015183820152602001610180565b50505050905090810190601f1680156101c55780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101f0600480360360208110156101e957600080fd5b5035610588565b604080516001600160a01b039092168252519081900360200190f35b6102386004803603604081101561022257600080fd5b506001600160a01b0381351690602001356105c8565b005b6102386004803603606081101561025057600080fd5b506001600160a01b038135811691602081013590911690604001356106c7565b6102386004803603606081101561028657600080fd5b506001600160a01b038135811691602081013590911690604001356107ad565b61015e6107cd565b6101f0600480360360208110156102c457600080fd5b50356107f2565b6102f1600480360360208110156102e157600080fd5b50356001600160a01b0316610814565b60408051918252519081900360200190f35b61015e610838565b6101f061085d565b61015e61086c565b6102386004803603604081101561033157600080fd5b506001600160a01b03813516906020013515156108cd565b6102386004803603608081101561035f57600080fd5b6001600160a01b0382358116926020810135909116916040820135919081019060808101606082013564010000000081111561039a57600080fd5b8201836020820111156103ac57600080fd5b803590602001918460018302840111640100000000831117156103ce57600080fd5b50909250905061093b565b61015e600480360360208110156103ef57600080fd5b5035610984565b6102386004803603606081101561040c57600080fd5b6001600160a01b038235169160208101359181019060608101604082013564010000000081111561043c57600080fd5b82018360208201111561044e57600080fd5b8035906020019184600183028401116401000000008311171561047057600080fd5b509092509050610a4a565b6101426004803603604081101561049157600080fd5b506001600160a01b0381358116916020013516610b55565b610238600480360360208110156104bf57600080fd5b50356001600160a01b0316610b83565b6001600160e01b0319811660009081526020819052604090205460ff165b919050565b60058054604080516020601f600260001961010060018816150201909516949094049384018190048102820181019092528281526060939092909183018282801561057e5780601f106105535761010080835404028352916020019161057e565b820191906000526020600020905b81548152906001019060200180831161056157829003601f168201915b5050505050905090565b60008181526001602052604081205482906001600160a01b03166105ab57600080fd5b50506000908152600260205260409020546001600160a01b031690565b60008181526001602052604090205481906001600160a01b03163381148061061357506001600160a01b038116600090815260046020908152604080832033845290915290205460ff165b61061c57600080fd5b60008381526001602052604090205483906001600160a01b031661063f57600080fd5b6000848152600160205260409020546001600160a01b0390811690861681141561066857600080fd5b60008581526002602052604080822080546001600160a01b0319166001600160a01b038a811691821790925591518893918516917f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591a4505050505050565b60008181526001602052604090205481906001600160a01b03163381148061070557506000828152600260205260409020546001600160a01b031633145b8061073357506001600160a01b038116600090815260046020908152604080832033845290915290205460ff165b61073c57600080fd5b60008381526001602052604090205483906001600160a01b031661075f57600080fd5b6000848152600160205260409020546001600160a01b03908116908716811461078757600080fd5b6001600160a01b03861661079a57600080fd5b6107a48686610cd6565b50505050505050565b6107c883838360405180602001604052806000815250610d51565b505050565b604051806040016040528060068152602001600160d11b6518189c1818190281525081565b6000818152600160205260409020546001600160a01b0316806104ed57600080fd5b60006001600160a01b03821661082957600080fd5b61083282610f6b565b92915050565b604051806040016040528060068152602001600160d01b653031383030310281525081565b6008546001600160a01b031681565b60068054604080516020601f600260001961010060018816150201909516949094049384018190048102820181019092528281526060939092909183018282801561057e5780601f106105535761010080835404028352916020019161057e565b3360008181526004602090815260408083206001600160a01b03871680855290835292819020805460ff1916861515908117909155815190815290519293927f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31929181900390910190a35050565b61097d85858585858080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250610d5192505050565b5050505050565b60008181526001602052604090205460609082906001600160a01b03166109aa57600080fd5b60008381526007602090815260409182902080548351601f600260001961010060018616150201909316929092049182018490048402810184019094528084529091830182828015610a3d5780601f10610a1257610100808354040283529160200191610a3d565b820191906000526020600020905b815481529060010190602001808311610a2057829003601f168201915b5050505050915050919050565b6008546040805180820190915260068152600160d01b65303138303031026020820152906001600160a01b03163314610b0457604051600160e51b62461bcd0281526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610ac9578181015183820152602001610ab1565b50505050905090810190601f168015610af65780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b50610b0f8484610f86565b610b4f8383838080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061100192505050565b50505050565b6001600160a01b03918216600090815260046020908152604080832093909416825291909152205460ff1690565b6008546040805180820190915260068152600160d01b65303138303031026020820152906001600160a01b03163314610c0057604051600160e51b62461bcd028152602060048201818152835160248401528351909283926044909101919085019080838360008315610ac9578181015183820152602001610ab1565b506040805180820190915260068152600160d11b6518189c1818190260208201526001600160a01b038216610c7957604051600160e51b62461bcd028152602060048201818152835160248401528351909283926044909101919085019080838360008315610ac9578181015183820152602001610ab1565b506008546040516001600160a01b038084169216907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a3600880546001600160a01b0319166001600160a01b0392909216919091179055565b6000818152600160205260409020546001600160a01b0316610cf782611043565b610d018183611080565b610d0b83836110e2565b81836001600160a01b0316826001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4505050565b60008281526001602052604090205482906001600160a01b031633811480610d8f57506000828152600260205260409020546001600160a01b031633145b80610dbd57506001600160a01b038116600090815260046020908152604080832033845290915290205460ff165b610dc657600080fd5b60008481526001602052604090205484906001600160a01b0316610de957600080fd5b6000858152600160205260409020546001600160a01b039081169088168114610e1157600080fd5b6001600160a01b038716610e2457600080fd5b610e2e8787610cd6565b610e40876001600160a01b0316611165565b15610f6157604051600160e11b630a85bd0102815233600482018181526001600160a01b038b81166024850152604484018a9052608060648501908152895160848601528951600095928d169463150b7a029490938f938e938e939260a4019060208501908083838e5b83811015610ec2578181015183820152602001610eaa565b50505050905090810190601f168015610eef5780820380516001836020036101000a031916815260200191505b5095505050505050602060405180830381600087803b158015610f1157600080fd5b505af1158015610f25573d6000803e3d6000fd5b505050506040513d6020811015610f3b57600080fd5b505190506001600160e01b03198116600160e11b630a85bd010214610f5f57600080fd5b505b5050505050505050565b6001600160a01b031660009081526003602052604090205490565b6001600160a01b038216610f9957600080fd5b6000818152600160205260409020546001600160a01b031615610fbb57600080fd5b610fc582826110e2565b60405181906001600160a01b038416906000907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a45050565b60008281526001602052604090205482906001600160a01b031661102457600080fd5b60008381526007602090815260409091208351610b4f9285019061117b565b6000818152600260205260409020546001600160a01b03161561107d57600081815260026020526040902080546001600160a01b03191690555b50565b6000818152600160205260409020546001600160a01b038381169116146110a657600080fd5b6001600160a01b0390911660009081526003602090815260408083208054600019019055928252600190522080546001600160a01b0319169055565b6000818152600160205260409020546001600160a01b03161561110457600080fd5b600081815260016020818152604080842080546001600160a01b0319166001600160a01b03881690811790915584526003909152909120546111459161116b565b6001600160a01b0390921660009081526003602052604090209190915550565b3b151590565b8181018281101561083257600080fd5b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106111bc57805160ff19168380011785556111e9565b828001600101855582156111e9579182015b828111156111e95782518255916020019190600101906111ce565b506111f59291506111f9565b5090565b61121391905b808211156111f557600081556001016111ff565b9056fea165627a7a72305820eb5b7c6e81a0e199ec2ae4f12d7d7e617b0b1fe36b336dd89025a939e0ed7c620029"
	testUpgradeableByteCode = "608060405260043610610078576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063046f7da2146100ff5780630900f010146101165780635c975abb146101595780638456cb59146101885780638da5cb5b1461019f578063d4b83992146101f6575b60008061008361024d565b91508115151561009257600080fd5b61009a6102a8565b9050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141515156100d857600080fd5b60405136600082376000803683855af43d806000843e81600081146100fb578184f35b8184fd5b34801561010b57600080fd5b506101146102eb565b005b34801561012257600080fd5b50610157600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610336565b005b34801561016557600080fd5b5061016e61024d565b604051808215151515815260200191505060405180910390f35b34801561019457600080fd5b5061019d610383565b005b3480156101ab57600080fd5b506101b46103ce565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561020257600080fd5b5061020b6102a8565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b600080600060405180807f676f636861696e2e70726f78792e70617573656400000000000000000000000081525060140190506040518091039020915060006001029050815490506000600102816000191614159250505090565b60008060405180807f676f636861696e2e70726f78792e746172676574000000000000000000000000815250601401905060405180910390209050805491505090565b6102f36103ce565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561032c57600080fd5b610334610411565b565b61033e6103ce565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561037757600080fd5b610380816104a5565b50565b61038b6103ce565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156103c457600080fd5b6103cc610570565b565b60008060405180807f676f636861696e2e70726f78792e6f776e657200000000000000000000000000815250601301905060405180910390209050805491505090565b60008060405180807f676f636861696e2e70726f78792e70617573656400000000000000000000000081525060140190506040518091039020915060007f01000000000000000000000000000000000000000000000000000000000000000290508082557f62451d457bc659158be6e6247f56ec1df424a5c7597f71c20c2bc44e0965c8f960405160405180910390a15050565b6000806104b06102a8565b91508273ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141515156104ed57600080fd5b60405180807f676f636861696e2e70726f78792e7461726765740000000000000000000000008152506014019050604051809103902090508281558273ffffffffffffffffffffffffffffffffffffffff167fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b60405160405180910390a2505050565b60008060405180807f676f636861696e2e70726f78792e70617573656400000000000000000000000081525060140190506040518091039020915060017f01000000000000000000000000000000000000000000000000000000000000000290508082557f9e87fac88ff661f02d44f95383c817fece4bce600a3dab7a54406878b965e75260405160405180910390a150505600a165627a7a72305820fb83ed4a5dce35fddc4424d2b82ae073f393ec3c109002bcbc397ce64d1ed3f00029"
)
